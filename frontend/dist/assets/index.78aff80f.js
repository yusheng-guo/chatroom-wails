(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function w(){}function I(e){return e()}function j(){return Object.create(null)}function E(e){e.forEach(I)}function P(e){return typeof e=="function"}function z(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function J(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function k(e,t,n){e.insertBefore(t,n||null)}function H(e){e.parentNode&&e.parentNode.removeChild(e)}function K(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function F(e){return document.createTextNode(e)}function O(){return F(" ")}function T(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function p(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function D(e){return Array.from(e.childNodes)}function G(e,t){t=""+t,e.data!==t&&(e.data=t)}let x;function v(e){x=e}function Q(){if(!x)throw new Error("Function called outside component initialization");return x}function U(e){Q().$$.on_mount.push(e)}const $=[],A=[];let b=[];const C=[],V=Promise.resolve();let N=!1;function W(){N||(N=!0,V.then(q))}function S(e){b.push(e)}const M=new Set;let y=0;function q(){if(y!==0)return;const e=x;do{try{for(;y<$.length;){const t=$[y];y++,v(t),X(t.$$)}}catch(t){throw $.length=0,y=0,t}for(v(null),$.length=0,y=0;A.length;)A.pop()();for(let t=0;t<b.length;t+=1){const n=b[t];M.has(n)||(M.add(n),n())}b.length=0}while($.length);for(;C.length;)C.pop()();N=!1,M.clear(),v(e)}function X(e){if(e.fragment!==null){e.update(),E(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(S)}}function Y(e){const t=[],n=[];b.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),b=t}const Z=new Set;function ee(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function te(e,t,n,i){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),i||S(()=>{const c=e.$$.on_mount.map(I).filter(P);e.$$.on_destroy?e.$$.on_destroy.push(...c):E(c),e.$$.on_mount=[]}),o.forEach(S)}function ne(e,t){const n=e.$$;n.fragment!==null&&(Y(n.after_update),E(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(e,t){e.$$.dirty[0]===-1&&($.push(e),W(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,n,i,r,o,c,d=[-1]){const a=x;v(e);const l=e.$$={fragment:null,ctx:[],props:o,update:w,not_equal:r,bound:j(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:j(),dirty:d,skip_bound:!1,root:t.target||a.$$.root};c&&c(l.root);let h=!1;if(l.ctx=n?n(e,t.props||{},(s,u,...m)=>{const f=m.length?m[0]:u;return l.ctx&&r(l.ctx[s],l.ctx[s]=f)&&(!l.skip_bound&&l.bound[s]&&l.bound[s](f),h&&ie(e,s)),u}):[],l.update(),h=!0,E(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){const s=D(t.target);l.fragment&&l.fragment.l(s),s.forEach(H)}else l.fragment&&l.fragment.c();t.intro&&ee(e.$$.fragment),te(e,t.target,t.anchor,t.customElement),q()}v(a)}class oe{$destroy(){ne(this,1),this.$destroy=w}$on(t,n){if(!P(n))return w;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!J(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function se(){return window.go.main.App.ReceiveMessage()}function ce(e){return window.go.main.App.SendMessage(e)}function R(e,t,n){const i=e.slice();return i[5]=t[n],i[7]=n,i}function B(e){let t,n,i=e[5]+"",r,o;return{c(){t=g("p"),n=g("span"),r=F(i),o=O(),p(t,"class","message")},m(c,d){k(c,t,d),_(t,n),_(n,r),_(t,o)},p(c,d){d&1&&i!==(i=c[5]+"")&&G(r,i)},d(c){c&&H(t)}}}function le(e){let t,n,i,r,o,c,d,a,l,h=e[0],s=[];for(let u=0;u<h.length;u+=1)s[u]=B(R(e,h,u));return{c(){t=g("div"),n=g("div");for(let u=0;u<s.length;u+=1)s[u].c();i=O(),r=g("form"),o=g("input"),c=O(),d=g("button"),d.textContent="Send",p(n,"class","message-list"),p(t,"id","message-container"),p(o,"type","text"),p(o,"id","message-input"),p(o,"placeholder","\u8BF7\u8F93\u5165..."),p(o,"autocomplete","off"),p(d,"type","submit"),p(d,"id","send-button"),p(r,"id","send-container")},m(u,m){k(u,t,m),_(t,n);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);k(u,i,m),k(u,r,m),_(r,o),e[3](o),_(r,c),_(r,d),a||(l=T(d,"click",e[2]),a=!0)},p(u,[m]){if(m&1){h=u[0];let f;for(f=0;f<h.length;f+=1){const L=R(u,h,f);s[f]?s[f].p(L,m):(s[f]=B(L),s[f].c(),s[f].m(n,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=h.length}},i:w,o:w,d(u){u&&H(t),K(s,u),u&&H(i),u&&H(r),e[3](null),a=!1,l()}}}function ue(e,t,n){let i=["Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi","Hi"];async function r(){async function a(){let l=await se();l!=""&&(n(0,i=[...i,l]),console.log(`Received message: ${l}`),console.log(`Messages: ${JSON.stringify(i)}`)),await a()}await a()}r();function o(){let a=document.getElementById("message-input");a.value!=""&&ce(a.value)}let c;U(()=>{c.focus()});function d(a){A[a?"unshift":"push"](()=>{c=a,n(1,c)})}return[i,c,o,d]}class fe extends oe{constructor(t){super(),re(this,t,ue,le,z,{})}}new fe({target:document.getElementById("app")});
